<!DOCTYPE html>
<html>
<head>
<title>Page Title</title>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
	integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
	crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
	integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp"
	crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
	integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
	crossorigin="anonymous"></script>

<!-- Latest compiled and minified jquery -->
<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"></script>


<script>
	var getTime = function() {
		return new Date().getTime();
	}
	var initialLength = 0;
	var start = 0;
	var timer;
	var running = false;
	function fLoop() {
		var now = getTime();
		var diff = (now - start) / 1000.0;
		var height = 0.5 * 9.81 * diff * diff;
		var fullHeight = height + initialLength;
		$("#results").html(fullHeight.toFixed(2) + " meters");
	}

	function fStartOrPause() {
		if (running) {
			fPause();
		} else {
			fStart();
		}
	}

	function fStart() {
		start = getTime();
		timer = window.setInterval(fLoop, 1);
		running = true;
	}

	function fPause() {
		if (running) {
			var now = getTime();
			var diff = (now - start) / 1000.0;
			var height = 0.5 * 9.81 * diff * diff;
			var fullHeight = height + initialLength;
			initialLength = fullHeight;
			$("#results").html(fullHeight.toFixed(2) + " meters");

			window.clearInterval(timer);
			running = false;
		}
	}

	function fReset() {
		fStop();
		$("#results").html("0 meters");
	}
	
	function fStop() {
		if (running) {
			running = false;
			window.clearInterval(timer);
		}
		initialLength = 0;
	}
	
	
</script>

<style>
div#results {
	font-size: xx-large;
}
</style>
</head>
<body onload="fReset()">
	<h1>Distance stopwatch</h1>
	<h2>
		Yes! You've read right! It's a <b>stopwatch</b> that measures <b>distances</b>!
	</h2>
	<h4>
		Everyone knows that you can measure heights by measuring how long
		something takes to fall. <br />Well, that's what this tool is doing.
		It works like any stopwatch - reset, start, pause. <br />(note: when
		pausing and continuing, the program assumes you've caught whatever you
		were throwing and now let it fall again. It also assumes your
		releasing whatever you were throwing from <b>rest</b>, that is, you
		weren't throwing it up or pushing it down, but just released it.)
	</h4>

	<form accept-charset="UTF-8" class="form-inline" role="form">
		<div class="alert alert-info" role="alert" width="33%">
			<div id="results"></div>


			<div>
				<input class="b btn btn-primary" onclick="fStartOrPause()"
					value="Start / Pause / Continue" type="button" /> <input
					class="b btn btn-primary" onclick="fReset()" type="button"
					value="Reset" />
					 <input
					class="b btn btn-primary" onclick="fStop()" type="button"
					value="Stop" />
			</div>
		</div>
	</form>
</body>
</html>